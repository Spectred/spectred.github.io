import{_ as i,V as n,W as r,Z as e,$ as o,Y as l,a4 as t,F as a}from"./framework-eedf5ae1.js";const c={},s=t(`<h1 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> MySQL</h1><h3 id="_1-ä½“ç³»æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_1-ä½“ç³»æ¶æ„" aria-hidden="true">#</a> 1. ä½“ç³»æ¶æ„</h3><figure><img src="https://dev.mysql.com/doc/refman/8.0/en/images/mysql-architecture.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2-ä¸€æ¡sqlæŸ¥è¯¢è¯­å¥å¦‚ä½•æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#_2-ä¸€æ¡sqlæŸ¥è¯¢è¯­å¥å¦‚ä½•æ‰§è¡Œ" aria-hidden="true">#</a> 2. ä¸€æ¡SQLæŸ¥è¯¢è¯­å¥å¦‚ä½•æ‰§è¡Œ</h3><ol><li>å®¢æˆ·ç«¯é€šè¿‡<strong>è¿æ¥å™¨</strong>è¿æ¥åˆ°æ•°æ®åº“ï¼Œè¿æ¥å™¨è´Ÿè´£ç®¡ç†è¿æ¥å’Œæƒé™éªŒè¯</li><li><strong>æŸ¥è¯¢ç¼“å­˜</strong>ï¼Œä¸å»ºè®®ä½¿ç”¨(å¯¹è¡¨æ›´æ–°æ—¶è¡¨çš„æ‰€æœ‰æŸ¥è¯¢ç¼“å­˜éƒ½è¢«æ¸…ç©º)ï¼Œ8.0ååˆ é™¤äº†ç¼“å­˜åŠŸèƒ½</li><li><strong>åˆ†æå™¨</strong>å¯¹SQLè¯­å¥è¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æ</li><li><strong>ä¼˜åŒ–å™¨</strong>æ‰§è¡Œè®¡åˆ’ç”Ÿæˆå’Œç´¢å¼•é€‰æ‹©</li><li><strong>æ‰§è¡Œå™¨</strong>è°ƒç”¨å­˜å‚¨å¼•æ“æä¾›çš„è¯»å†™æ¥å£è¿”å›ç»“æœ</li></ol><h3 id="_3-æœ‰å“ªäº›å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#_3-æœ‰å“ªäº›å­˜å‚¨å¼•æ“" aria-hidden="true">#</a> 3. æœ‰å“ªäº›å­˜å‚¨å¼•æ“</h3><p>é€šè¿‡<code>mysql&gt; SHOW ENGINES;</code>æˆ–è€…<code>mysql&gt; SELECT * FROM INFORMATION_SCHEMA.ENGINES;</code>æŸ¥çœ‹æœ‰å“ªäº›å¼•æ“</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt;  SELECT * FROM INFORMATION_SCHEMA.ENGINES;
+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
| ENGINE             | SUPPORT | COMMENT                                                        | TRANSACTIONS | XA   | SAVEPOINTS |
+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |
| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |
| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |
| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |
| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |
| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |
| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |
| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |
| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |
+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+
9 rows in set (0.01 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-innodbå’Œmyisamçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_4-innodbå’Œmyisamçš„åŒºåˆ«" aria-hidden="true">#</a> 4. <code>InnoDB</code>å’Œ<code>MyISAM</code>çš„åŒºåˆ«</h3><ul><li>ä»åŠŸèƒ½ä¸Šçœ‹ï¼Œ<code>InnoDB</code>æ”¯æŒäº‹åŠ¡ï¼Œè¡Œé”ï¼Œå¤–é”®</li><li>ä»å­˜å‚¨æ–‡ä»¶ä¸Šçœ‹ï¼Œ<code>InnoDB</code>çš„è¡¨ç»“æ„æ–‡ä»¶æ˜¯<code>.frm</code>ï¼Œæ•°æ®æ–‡ä»¶æ˜¯<code>.idb</code>,<code>MyISAM</code>çš„è¡¨æ•°æ®æ˜¯<code>.myd</code>ï¼Œç´¢å¼•æ–‡ä»¶æ˜¯<code>myi</code></li><li>ä»ç´¢å¼•ç»“æ„ä¸Šçœ‹ï¼Œ<code>InnoDB</code>æ˜¯èšç°‡ï¼Œ<code>MyISAM</code>éèšç°‡</li></ul><h3 id="_5-innodbæ¶æ„" tabindex="-1"><a class="header-anchor" href="#_5-innodbæ¶æ„" aria-hidden="true">#</a> 5. <code>InnoDB</code>æ¶æ„</h3><figure><img src="https://dev.mysql.com/doc/refman/8.0/en/images/innodb-architecture-8-0.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,12),h={id:"_5-1-å†…å­˜æ¶æ„",tabindex:"-1"},p=e("a",{class:"header-anchor",href:"#_5-1-å†…å­˜æ¶æ„","aria-hidden":"true"},"#",-1),_={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-in-memory-structures.html",target:"_blank",rel:"noopener noreferrer"},u={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html",target:"_blank",rel:"noopener noreferrer"},g=t("<blockquote><p>çŸ¥é“å¦‚ä½•åˆ©ç”¨ç¼“å†²æ± å°†ç»å¸¸è®¿é—®çš„æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­æ˜¯MySQLè°ƒä¼˜çš„ä¸€ä¸ªé‡è¦æ–¹é¢</p></blockquote><p>ä»¥16kçš„<code>Page</code>ä¸ºå•ä½ï¼Œé‡‡ç”¨é“¾è¡¨ç®¡ç†<code>Page</code></p><p><code>Page</code>åˆ†ä¸º:</p><ul><li><code>Free Page</code>: ç©ºé—²é¡µï¼Œæœªè¢«ä½¿ç”¨ =&gt; ç©ºé—²ç¼“å†²åŒº: <code>Free List</code></li><li><code>Clean Page</code>: æ•°æ®æ²¡æœ‰è¢«ä¿®æ”¹è¿‡ =&gt; æ­£åœ¨ä½¿ç”¨çš„ç¼“å†²åŒº: <code>LRU List</code></li><li><code>Dirty Page</code>: è„é¡µï¼Œè¢«ä¿®æ”¹è¿‡ï¼Œå’Œç£ç›˜ä¸ä¸€è‡´ =&gt; éœ€è¦åˆ·æ–°åˆ°ç£ç›˜ç¼“å†²åŒº: Flush List</li></ul>",4),f={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-change-buffer.html",target:"_blank",rel:"noopener noreferrer"},m=t("<p>æ›´æ–°ä¸€æ¡è®°å½•æ—¶ï¼Œ</p><ul><li><p>è‹¥åœ¨<code>Buffer Pool</code>ä¸­å­˜åœ¨ï¼Œåˆ™ç›´æ¥åœ¨<code>Buffer Pool</code>ä¸­ä¿®æ”¹ï¼›</p></li><li><p>è‹¥åœ¨<code>Buffer Pool</code>ä¸­ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥åœ¨<code>Change Buffer</code>ä¸­è¿›è¡Œå†…å­˜æ“ä½œï¼Œå½“ä¸‹æ¬¡æŸ¥è¯¢æ—¶ï¼Œä¼šå…ˆä»ç£ç›˜ä¸­è¯»å–ï¼Œå†ä»<code>Change Buffer</code>ä¸­è¯»å–ï¼Œå¹¶åˆå¹¶ï¼Œæœ€ç»ˆè½½å…¥åˆ°<code>Buffer Pool</code></p></li></ul><p><code>Change Buffer</code>ä»…é€‚ç”¨äº<strong>éå”¯ä¸€æ™®é€šç´¢å¼•</strong>ï¼Œè‹¥è®¾ç½®äº†ç´¢å¼•çš„å”¯ä¸€æ€§ï¼Œä¿®æ”¹æ—¶å¿…é¡»åšå”¯ä¸€æ€§æ ¡éªŒï¼ŒæŸ¥ç£ç›˜</p>",3),b={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-adaptive-hash.html",target:"_blank",rel:"noopener noreferrer"},y=e("p",null,[o("è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ï¼Œ"),e("code",null,"InnoDB"),o("ä¼šè‡ªåŠ¨æ ¹æ®è®¿é—®çš„é¢‘ç‡çš„æ¨¡å¼æ¥å»ºç«‹å“ˆå¸Œç´¢å¼•")],-1),x={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-redo-log-buffer.html",target:"_blank",rel:"noopener noreferrer"},L=e("p",null,[o("æ—¥å¿—ç¼“å†²åŒºï¼Œä¿å­˜"),e("code",null,"Redo Log"),o("ã€"),e("code",null,"Undo Log"),o("ï¼Œå®šæœŸæˆ–è€…å†™æ»¡æ—¶åˆ·æ–°åˆ°ç£ç›˜ï¼ŒèŠ‚çœç£ç›˜IO")],-1),v={id:"_5-2-ç£ç›˜æ¶æ„",tabindex:"-1"},q=e("a",{class:"header-anchor",href:"#_5-2-ç£ç›˜æ¶æ„","aria-hidden":"true"},"#",-1),S={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-on-disk-structures.html",target:"_blank",rel:"noopener noreferrer"},k=e("blockquote",null,[e("p",null,"åŒ…å«è¡¨ï¼Œè¡¨ç©ºé—´ï¼Œç´¢å¼•ï¼ŒåŒå†™ç¼“å†²ï¼ŒRedo Logï¼ŒUndo Log")],-1),R=e("h3",{id:"_6-mysqlä¸­æœ‰å“ªäº›æ—¥å¿—",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_6-mysqlä¸­æœ‰å“ªäº›æ—¥å¿—","aria-hidden":"true"},"#"),o(" 6. MySQLä¸­æœ‰å“ªäº›æ—¥å¿—")],-1),N={id:"_6-1-binary-log",tabindex:"-1"},I=e("a",{class:"header-anchor",href:"#_6-1-binary-log","aria-hidden":"true"},"#",-1),M={href:"https://dev.mysql.com/doc/refman/8.0/en/binary-log.html",target:"_blank",rel:"noopener noreferrer"},O=e("p",null,[e("code",null,"bin log"),o("æ˜¯MySQL Serverå±‚çš„æ—¥å¿—ï¼Œæ˜¯è®°å½•æ‰€æœ‰æ•°æ®åº“è¡¨ç»“æ„å˜æ›´å’Œè¡¨æ•°æ®ä¿®æ”¹çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä¸ä¼šè®°å½•"),e("code",null,"select"),o("å’Œ"),e("code",null,"show"),o(",ä»¥äº‹ä»¶å½¢å¼è®°å½•ï¼Œä¹ŸåŒ…å«äº†æ‰§è¡Œçš„æ¶ˆè€—æ—¶é—´")],-1),E={href:"https://dev.mysql.com/doc/refman/8.0/en/binary-log-formats.html",target:"_blank",rel:"noopener noreferrer"},w=t("<ul><li><p><code>ROW</code>: æ—¥å¿—ä¸­è®°å½•æ¯ä¸€è¡Œæ•°æ®è¢«ä¿®æ”¹çš„æƒ…å†µï¼Œç„¶ååœ¨<code>slave</code>ç«¯å¯¹ç›¸åŒçš„æ•°æ®è¿›è¡Œä¿®æ”¹</p><p>ä¼˜ç‚¹: è®°å½•æ¯ä¸€è¡Œæ•°æ®çš„ä¿®æ”¹ç»†èŠ‚ï¼Œå®Œå…¨å®ç°ä¸»ä»æ•°æ®åŒæ­¥çš„æ•°æ®æ¢å¤</p><p>ç¼ºç‚¹: æ‰¹é‡æ“ä½œä¼šäº§ç”Ÿå¤§é‡æ—¥å¿—</p></li><li><p><code>STAMENT</code>: æ¯ä¸€æ¡è¢«ä¿®æ”¹æ•°æ®çš„SQLéƒ½ä¼šè®°å½•åˆ°<code>master</code>çš„<code>bin log</code>ä¸­ï¼Œ<code>slave</code>åœ¨å¤åˆ¶æ—¶å¯¹SQLè¿›è¡Œè§£ææ‰§è¡Œ</p><p>ä¼˜ç‚¹: æ—¥å¿—é‡å°ï¼Œå‡å°‘ç£ç›˜IOï¼Œæå‡å­˜å‚¨å’Œæ¢å¤é€Ÿåº¦</p><p>ç¼ºç‚¹: åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¸»ä»æ•°æ®ä¸ä¸€è‡´ï¼Œä¾‹å¦‚<code>now()</code></p></li><li><p><code>MIXED</code>: æ··åˆä½¿ç”¨ï¼Œä¼˜å…ˆä½¿ç”¨<code>STAMENT</code>ä¿å­˜<code>bin log</code>ï¼Œå¯¹äºæ— æ³•å¤åˆ¶çš„æ“ä½œä½¿ç”¨<code>ROW</code>æ¨¡å¼ä¿å­˜<code>bin log</code></p></li></ul><p><strong>ä½¿ç”¨åœºæ™¯:</strong></p><ul><li><p>ä¸»ä»å¤åˆ¶</p></li><li><p>æ•°æ®æ¢å¤</p><p><code>mysqlbinlog</code>å¯ä»¥æŒ‡å®šæ—¶é—´æˆ–æ—¶é—´ä½ç½®æ¢å¤ï¼Œåšå¢é‡å¤‡ä»½å’Œæ¢å¤</p><blockquote><p><code>mysqldump</code>å¯ä»¥å®šæœŸå…¨éƒ¨å¤‡ä»½æ•°æ®åº“æ•°æ®</p></blockquote></li></ul>",3),B={id:"_6-2-redo-log",tabindex:"-1"},C=e("a",{class:"header-anchor",href:"#_6-2-redo-log","aria-hidden":"true"},"#",-1),A={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-redo-log.html",target:"_blank",rel:"noopener noreferrer"},T=t('<p>é‡åšæ—¥å¿—åŸºäºç£ç›˜ï¼Œç”¨äºå´©æºƒæ¢å¤æœŸé—´æ›´æ­£ä¸å®Œæ•´äº‹åŠ¡ï¼Œä»¥å¾ªç¯æ–¹å¼å†™å…¥(<code>ib_logfile0</code>ã€<code>ib_logfile1</code>)ï¼Œè®°å½•æ‰€æœ‰å¯¹<code>Buffer Pool</code>ä¿®æ”¹çš„æ—¥å¿—</p><p>éšç€äº‹åŠ¡æ“ä½œçš„æ‰§è¡Œå°±ä¼šäº§ç”Ÿ<code>Redo Log</code>ï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶å°†äº§ç”Ÿçš„<code>Redo Log</code>å†™å…¥<code>Log Buffer</code>,ç­‰äº‹åŠ¡æ“ä½œçš„è„é¡µå†™å…¥åˆ°ç£ç›˜åï¼Œ<code>Redo Log</code>å¯é‡ç”¨å¤å†™ï¼Œæ˜¯<code>WAL</code>å†™å‰æ—¥å¿—</p><p>ä½œç”¨: å®ç°äº‹åŠ¡çš„<strong>æŒä¹…æ€§</strong>ï¼Œé˜²æ­¢åœ¨å‘ç”Ÿæ•…éšœçš„æ—¶é—´ç‚¹ï¼Œå°šæœ‰è„é¡µæœªå†™å…¥è¡¨<code>ibd</code>æ–‡ä»¶ï¼Œåœ¨é‡å¯MySQLæœåŠ¡æ—¶ï¼Œæ ¹æ®<code>Redo Log</code>é‡åšï¼Œä»è€Œè¾¾åˆ°äº‹åŠ¡çš„æœªå…¥ç£ç›˜çš„æ•°æ®æŒä¹…åŒ–</p><ul><li><code>bin Log</code>å’Œ<code>Redo Log</code>çš„åŒºåˆ«</li></ul><table><thead><tr><th style="text-align:center;">bin log</th><th style="text-align:center;">Redo Log</th></tr></thead><tbody><tr><td style="text-align:center;">MySQL Serverå±‚æ—¥å¿—ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶</td><td style="text-align:center;">InnoDBå¼•æ“çš„æ—¥å¿—</td></tr><tr><td style="text-align:center;">é€»è¾‘æ—¥å¿—(è®°å½•æ›´æ–°è¿‡ç¨‹)</td><td style="text-align:center;">ç‰©ç†æ—¥å¿—(è®°å½•æ•°æ®æ›´æ–°çŠ¶æ€å†…å®¹)</td></tr><tr><td style="text-align:center;">è¿½åŠ å†™(å†™å®Œå†™ä¸‹ä¸€ä¸ªï¼Œä¸ä¼šè¦†å†™)</td><td style="text-align:center;">å¾ªç¯å†™(æ—¥å¿—ç©ºé—´å¤§å°å›ºå®š)</td></tr><tr><td style="text-align:center;">ä¸»ä»å¤åˆ¶ï¼Œæ•°æ®æ¢å¤(æ²¡æœ‰è‡ªåŠ¨Crash Safeèƒ½åŠ›)</td><td style="text-align:center;">æœåŠ¡å™¨å®•æœºåäº‹åŠ¡æ•°æ®è‡ªåŠ¨æ¢å¤</td></tr></tbody></table>',5),D={id:"_6-3-undo-logs",tabindex:"-1"},U=e("a",{class:"header-anchor",href:"#_6-3-undo-logs","aria-hidden":"true"},"#",-1),Q={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-undo-logs.html",target:"_blank",rel:"noopener noreferrer"},P=t("<p>æ’¤é”€æ—¥å¿—ï¼Œäº‹åŠ¡å¼€å§‹ä¹‹å‰ä¿å­˜çš„è¢«ä¿®æ”¹çš„æ•°æ®å¤‡ä»½ï¼Œå¯å›æ»šäº‹åŠ¡</p><p>åœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰äº§ç”Ÿï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œå°†äº‹åŠ¡å¯¹åº”çš„<code>Undo Log</code>æ”¾åˆ°åˆ é™¤åˆ—è¡¨ä¸­ï¼Œä¹‹åé€šè¿‡åå°çº¿ç¨‹<code>Purge Thread</code>è¿›è¡Œå›æ”¶</p><p>å±äºé€»è¾‘æ—¥å¿—ï¼Œè®°å½•ä¸€ä¸ªå˜åŒ–çš„ç›¸åè¿‡ç¨‹ï¼Œä¾‹å¦‚<code>INSERT</code>å¯¹åº”<code>DELETE</code></p><p>å­˜å‚¨: é‡‡ç”¨<code>æ®µ</code>çš„æ–¹å¼ç®¡ç†å’Œè®°å½•ï¼Œæœ‰1024ä¸ªå›æ»šæ®µ</p><p><code>show variables like &#39;%innodb_undo%&#39;;</code></p><p><strong>ä½œç”¨:</strong></p><ul><li><p>å®ç°äº‹åŠ¡çš„åŸå­æ€§</p><p>åˆ©ç”¨<code>Undo Log</code>ä¸­çš„å¤‡ä»½æ•°æ®æ¢å¤åˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰çš„çŠ¶æ€</p></li><li><p>å®ç°<code>MVCC</code></p><p>äº‹åŠ¡æœªæäº¤ä¹‹å‰ï¼Œ<code>Undo Log</code>ä¿å­˜äº†æœªæäº¤ä¹‹å‰çš„æ•°æ®ï¼Œ<code>Undo Log</code>ä¸­çš„æ•°æ®å¯ä½œä¸ºæ•°æ®æ—§ç‰ˆæœ¬å¿«ç…§å·¥å…¶ä»–äº‹åŠ¡è¿›è¡Œå¿«ç…§è¯»</p></li></ul>",7),V={id:"_6-4-slow-query-log",tabindex:"-1"},F=e("a",{class:"header-anchor",href:"#_6-4-slow-query-log","aria-hidden":"true"},"#",-1),Y={href:"https://dev.mysql.com/doc/refman/8.0/en/slow-query-log.html",target:"_blank",rel:"noopener noreferrer"},H={href:"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_long_query_time",target:"_blank",rel:"noopener noreferrer"},z={href:"https://dev.mysql.com/doc/refman/8.0/en/mysqldumpslow.html",target:"_blank",rel:"noopener noreferrer"},G=e("code",null,"cat slow.log",-1),W=t('<h3 id="_7-æœ‰å“ªäº›ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_7-æœ‰å“ªäº›ç´¢å¼•" aria-hidden="true">#</a> 7. æœ‰å“ªäº›ç´¢å¼•</h3><h4 id="_7-1-æŒ‰ç…§æ•°æ®å­˜å‚¨å’Œé”®å€¼é€»è¾‘å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_7-1-æŒ‰ç…§æ•°æ®å­˜å‚¨å’Œé”®å€¼é€»è¾‘å…³ç³»" aria-hidden="true">#</a> 7.1 æŒ‰ç…§æ•°æ®å­˜å‚¨å’Œé”®å€¼é€»è¾‘å…³ç³»</h4><ul><li>èšç°‡ç´¢å¼• - æ•°æ®åœ¨ç´¢å¼•æ•°ä¸Š(ä¸»é”®)</li><li>éèšç°‡ç´¢å¼• - æ•°æ®ä¸åœ¨ç´¢å¼•æ•°ä¸Š(éä¸»é”®)</li></ul><h4 id="_7-2-æŒ‰ç…§ç´¢å¼•çš„å­˜å‚¨ç»“æ„åˆ’åˆ†" tabindex="-1"><a class="header-anchor" href="#_7-2-æŒ‰ç…§ç´¢å¼•çš„å­˜å‚¨ç»“æ„åˆ’åˆ†" aria-hidden="true">#</a> 7.2 æŒ‰ç…§ç´¢å¼•çš„å­˜å‚¨ç»“æ„åˆ’åˆ†</h4><ul><li>B+ Tree</li><li>Hash</li><li>Full Text</li><li>R Tree</li></ul><h4 id="_7-3-æŒ‰ç…§åº”ç”¨å±‚æ¬¡åˆ’åˆ†" tabindex="-1"><a class="header-anchor" href="#_7-3-æŒ‰ç…§åº”ç”¨å±‚æ¬¡åˆ’åˆ†" aria-hidden="true">#</a> 7.3 æŒ‰ç…§åº”ç”¨å±‚æ¬¡åˆ’åˆ†</h4><ul><li>ä¸»é”®ç´¢å¼•</li><li>å”¯ä¸€ç´¢å¼•</li><li>æ™®é€šç´¢å¼•</li><li>å¤åˆç´¢å¼•</li></ul><h3 id="_8-å›è¡¨-è¦†ç›–ç´¢å¼•-ç´¢å¼•ä¸‹æ¨åˆ†åˆ«æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_8-å›è¡¨-è¦†ç›–ç´¢å¼•-ç´¢å¼•ä¸‹æ¨åˆ†åˆ«æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> 8. å›è¡¨ï¼Œè¦†ç›–ç´¢å¼•ï¼Œç´¢å¼•ä¸‹æ¨åˆ†åˆ«æ˜¯ä»€ä¹ˆ</h3><h4 id="_8-1-å›è¡¨" tabindex="-1"><a class="header-anchor" href="#_8-1-å›è¡¨" aria-hidden="true">#</a> 8.1 å›è¡¨</h4><p>é€šè¿‡éèšç°‡ç´¢å¼•å¾—åˆ°ä¸»é”®ï¼Œå†åˆ°èšç°‡ç´¢å¼•ä¸­æŸ¥è¯¢æ•°æ®</p><h4 id="_8-2-è¦†ç›–ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_8-2-è¦†ç›–ç´¢å¼•" aria-hidden="true">#</a> 8.2 è¦†ç›–ç´¢å¼•</h4><p>æŸ¥è¯¢åˆ—è¢«ç´¢å¼•è¦†ç›–ï¼Œä¸å¿…ä»æ•°æ®è¡¨ä¸­æŸ¥è¯¢ï¼Œä¾‹å¦‚<code>select name from tb where name =&#39;x&#39;;</code> å…¶ä¸­<code>name</code>å­—æ®µæœ‰ç´¢å¼•</p>',12),X={id:"_8-3-ç´¢å¼•ä¸‹æ¨",tabindex:"-1"},j=e("a",{class:"header-anchor",href:"#_8-3-ç´¢å¼•ä¸‹æ¨","aria-hidden":"true"},"#",-1),K={href:"https://dev.mysql.com/doc/refman/8.0/en/index-condition-pushdown-optimization.html",target:"_blank",rel:"noopener noreferrer"},Z=t('<p>å°†éƒ¨åˆ†Serverå±‚çš„ç´¢å¼•äº¤ç»™å¼•æ“å±‚å¤„ç†ï¼Œå‡å°‘å›è¡¨æ¬¡æ•°ï¼Œç´¢å¼•ä¸‹æ¨åªé€‚ç”¨äºéèšç°‡ç´¢å¼•</p><h3 id="_9-ç´¢å¼•å¤±æ•ˆåœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_9-ç´¢å¼•å¤±æ•ˆåœºæ™¯" aria-hidden="true">#</a> 9. ç´¢å¼•å¤±æ•ˆåœºæ™¯</h3><ul><li>éšå¼è½¬æ¢</li><li>å†…ç½®å‡½æ•°</li><li>æ•°å­¦è¿ç®—(åŠ å‡ä¹˜é™¤)</li><li><code>IS NULL</code> æˆ– <code>IS NOT NULL</code></li><li><code>!=</code> æˆ–è€… <code>NOT IN</code></li><li>æ¡ä»¶ä¸­åŒ…å«<code>OR</code> ,å¯èƒ½å¤±æ•ˆ(OR çš„ä¸€æ–¹æ— æ‰€ç´¢å¼•ï¼Œä¼šå¯¼è‡´å…¨è¡¨æŸ¥è¯¢)</li><li>ä¸ç¬¦åˆæœ€å·¦å‰ç¼€ï¼Œè”åˆç´¢å¼•ä¸ç¬¦åˆ</li><li>MySQLä¼°è®¡å…¨è¡¨æ¯”ç´¢å¼•å¿«</li><li>è¿‡æ»¤æ€§ä¸å¥½ï¼Œä¾‹å¦‚æ€§åˆ«ï¼Œä¸é€‚åˆåšç´¢å¼•</li></ul><h3 id="_10-sqlè¯­å¥çš„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_10-sqlè¯­å¥çš„ä¼˜åŒ–" aria-hidden="true">#</a> 10. SQLè¯­å¥çš„ä¼˜åŒ–</h3><p>å…ˆè·å–åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œé€šè¿‡<code>Explain</code>åˆ†ææ‰§è¡Œè®¡åˆ’</p><ul><li><p><code>type</code></p><p><code>NULL</code> &gt; <code>const</code> &gt; <code>eq_ref</code> &gt; <code>ref</code> &gt; <code>range</code> &gt; <code>index</code> &gt; <code>ALL</code></p><ul><li><code>const</code>: ä¸»é”®/å”¯ä¸€ç´¢å¼•ç­‰å€¼æŸ¥è¯¢</li><li><code>eq_ref</code>: å¤šè¡¨<code>join</code>,å‰è¡¨æ¯ä¸€ä¸ªè®°å½•éƒ½åªèƒ½åŒ¹é…åè¡¨çš„ä¸€ä¸ªè®°å½•</li><li><code>ref</code>: éå”¯ä¸€ç´¢å¼•ç­‰å€¼æŸ¥è¯¢</li><li><code>range</code>: ç´¢å¼•èŒƒå›´æŸ¥è¯¢</li><li><code>index</code>: åŸºäºç´¢å¼•å…¨è¡¨æ‰«æ</li></ul></li><li><p><code>key</code>: çœŸæ­£ç”¨çš„ç´¢å¼•</p></li><li><p><code>rows</code>: éœ€è¦æ‰«æå¤šå°‘è¡Œï¼Œè¶Šå°‘è¶Šå¥½</p></li><li><p><code>key_len</code>: è¶Šå°è¶Šå¥½</p></li><li><p><code>Extra</code>: é¢å¤–ä¿¡æ¯</p><ul><li><code>Using Index</code>: è¦†ç›–ç´¢å¼•</li><li><code>Using Where</code>: å›è¡¨</li><li><code>Using temporay</code>: ä¸´æ—¶è¡¨ï¼Œåˆ†ç»„</li><li><code>Using filesort</code>: <code>order by</code> æ²¡ç´¢å¼•</li><li><code>Using join buffer</code>: è”è¡¨æ¡ä»¶æ²¡ç´¢å¼•</li></ul></li></ul><h3 id="_11-mysqlå¦‚ä½•ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_11-mysqlå¦‚ä½•ä¼˜åŒ–" aria-hidden="true">#</a> 11. MySQLå¦‚ä½•ä¼˜åŒ–</h3>',7),$={id:"_1-å‚è€ƒå®˜æ–¹æ–‡æ¡£-optimizaition",tabindex:"-1"},J=e("a",{class:"header-anchor",href:"#_1-å‚è€ƒå®˜æ–¹æ–‡æ¡£-optimizaition","aria-hidden":"true"},"#",-1),ee={href:"https://dev.mysql.com/doc/refman/8.0/en/optimization.html",target:"_blank",rel:"noopener noreferrer"},oe=t('<h4 id="_2-è¦ç¬¦åˆå¼€å‘è§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#_2-è¦ç¬¦åˆå¼€å‘è§„èŒƒ" aria-hidden="true">#</a> 2. è¦ç¬¦åˆå¼€å‘è§„èŒƒ</h4><ul><li>é¿å…<code>select *</code></li><li>å‡å°‘<code>join</code></li><li>ä¸åœ¨æœ‰é™æ•°æ®å»ºç«‹ç´¢å¼•</li></ul><h4 id="_3-sqlè¯­å¥ä¼˜åŒ–-æ…¢æŸ¥è¯¢-æ‰§è¡Œè®¡åˆ’" tabindex="-1"><a class="header-anchor" href="#_3-sqlè¯­å¥ä¼˜åŒ–-æ…¢æŸ¥è¯¢-æ‰§è¡Œè®¡åˆ’" aria-hidden="true">#</a> 3. SQLè¯­å¥ä¼˜åŒ–(æ…¢æŸ¥è¯¢ï¼Œæ‰§è¡Œè®¡åˆ’)</h4><h4 id="_4-è¡¨è®¾è®¡ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_4-è¡¨è®¾è®¡ä¼˜åŒ–" aria-hidden="true">#</a> 4. è¡¨è®¾è®¡ä¼˜åŒ–</h4><ul><li>ç¦æ­¢<code>null</code>å­—æ®µ</li><li>é¿å…<code>text</code>å¤§å­—æ®µ</li><li>è‡ªå¢ä¸»é”®</li></ul><h4 id="_5-æ•°æ®åº“é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-æ•°æ®åº“é…ç½®" aria-hidden="true">#</a> 5. æ•°æ®åº“é…ç½®</h4><ul><li>å…¨å±€å†…å­˜å‚æ•°</li><li>çº¿ç¨‹å†…å­˜å‚æ•°</li></ul><h4 id="_6-ç¡¬ä»¶å‡çº§-å†…å­˜-ç£ç›˜-ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#_6-ç¡¬ä»¶å‡çº§-å†…å­˜-ç£ç›˜-ç½‘ç»œ" aria-hidden="true">#</a> 6. ç¡¬ä»¶å‡çº§(å†…å­˜ï¼Œç£ç›˜ï¼Œç½‘ç»œ)</h4><h4 id="_7-å‡å°‘æ•°æ®åº“çš„è®¿é—®-æœ¬åœ°ç¼“å­˜-åˆ†å¸ƒå¼ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_7-å‡å°‘æ•°æ®åº“çš„è®¿é—®-æœ¬åœ°ç¼“å­˜-åˆ†å¸ƒå¼ç¼“å­˜" aria-hidden="true">#</a> 7. å‡å°‘æ•°æ®åº“çš„è®¿é—®(æœ¬åœ°ç¼“å­˜ï¼Œåˆ†å¸ƒå¼ç¼“å­˜)</h4><h4 id="_8-æ¶æ„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_8-æ¶æ„ä¼˜åŒ–" aria-hidden="true">#</a> 8. æ¶æ„ä¼˜åŒ–</h4><ul><li>ä¸»ä» - è¯»å†™åˆ†ç¦»</li><li>åˆ†åº“åˆ†è¡¨</li></ul><blockquote><p>åˆ†é¡µä¼˜åŒ– <code>select * from t where id &gt;= (select id from t2 limit 10000,1) limit 10</code></p></blockquote><h3 id="_12-äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#_12-äº‹åŠ¡" aria-hidden="true">#</a> 12. äº‹åŠ¡</h3><blockquote><p>äº‹åŠ¡å¯åˆ†ä¸ºæœ¬åœ°äº‹åŠ¡ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡ç­‰ï¼Œè¿™é‡Œåªæè¿°MySQLæœ¬åœ°äº‹åŠ¡</p></blockquote><h4 id="_12-1-åŸå­æ€§-automicity-redo-undo" tabindex="-1"><a class="header-anchor" href="#_12-1-åŸå­æ€§-automicity-redo-undo" aria-hidden="true">#</a> 12.1 åŸå­æ€§-Automicity (Redo Undo)</h4><p>äº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­å•å…ƒï¼Œæ•°æ®çš„ä¿®æ”¹è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œ</p><p><strong>å¦‚ä½•å®ç°ï¼š</strong></p><p>æ•°æ®çš„ä¿®æ”¹è¦ç»è¿‡: ä¿®æ”¹-&gt;<code>Buffer Pool</code>ä¿®æ”¹-&gt;åˆ·ç›˜</p><ul><li>äº‹åŠ¡æ²¡æœ‰æäº¤ï¼Œä½†æ˜¯<code>Buffer Pool</code>ä¸­çš„è„é¡µåˆ·ç›˜äº†ï¼Œä½¿ç”¨<code>Undo</code>æ’¤é”€</li><li>äº‹åŠ¡å·²ç»æäº¤ï¼Œä½†æ˜¯<code>Buffer Pool</code>ä¸­çš„è„é¡µæœªåˆ·ç›˜ï¼Œä½¿ç”¨<code>Redo</code>ç”Ÿæ•ˆ</li></ul><h4 id="_12-2-æŒä¹…æ€§-durability-redo" tabindex="-1"><a class="header-anchor" href="#_12-2-æŒä¹…æ€§-durability-redo" aria-hidden="true">#</a> 12.2 æŒä¹…æ€§-Durability (Redo)</h4><p>äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®çš„æ”¹å˜æ˜¯æ°¸ä¹…æ€§çš„ï¼Œåç»­çš„æ“ä½œæˆ–æ•…éšœä¸åº”è¯¥å¯¹å…¶æœ‰å½±å“ï¼Œä¸æ˜¯ä¸¢å¤±</p><p>å®ç°ä¸Šå’Œ<code>WAL</code>å†™å‰æ—¥å¿—æœ‰å…³ï¼Œ<code>Redo Log</code>åœ¨ç³»ç»Ÿå®•æœºé‡å¯æ—¶ä¿è¯æŒä¹…æ€§</p><blockquote><p>åŸå­æ€§ä¿è¯é€»è¾‘ä¸Šçš„æŒä¹…æ€§ï¼Œå­˜å‚¨å¼•æ“çš„åˆ·ç›˜ä¿è¯ç‰©ç†ä¸ŠæŒä¹…</p></blockquote><h4 id="_12-3-ä¸€è‡´æ€§-consistency" tabindex="-1"><a class="header-anchor" href="#_12-3-ä¸€è‡´æ€§-consistency" aria-hidden="true">#</a> 12.3 ä¸€è‡´æ€§-Consistency</h4><p>äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œç»“æŸä¹‹åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´å</p><ul><li>æ•°æ®ä¸€è‡´æ€§: é€šè¿‡Aã€Iã€Då…±åŒä¿è¯</li><li>çº¦æŸä¸€è‡´æ€§: åˆ›å»ºè¡¨æ—¶æ‰€æŒ‡å®šçš„å¤–é”®ã€å”¯ä¸€ç´¢å¼•ç­‰çº¦æŸ</li></ul><h4 id="_12-4-éš”ç¦»æ€§-isolation" tabindex="-1"><a class="header-anchor" href="#_12-4-éš”ç¦»æ€§-isolation" aria-hidden="true">#</a> 12.4 éš”ç¦»æ€§-Isolation</h4><p>ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°ï¼Œå¹¶å‘äº‹åŠ¡éš”ç¦»</p><p><code>show variables like &#39;transaction_isolation&#39;</code></p><p><strong>éš”ç¦»çº§åˆ«:</strong></p><ul><li><p>è¯»æœªæäº¤ <code>Read Uncomitted</code></p><p>å¯èƒ½è¯»åˆ°å…¶ä»–ä¼šè¯æœªæäº¤äº‹åŠ¡ä¿®æ”¹æ•°æ®</p></li><li><p>è¯»å·²æäº¤ <code>Read Comitted</code></p><p>åªèƒ½è¯»åˆ°å…¶ä»–ä¼šè¯ä¸­å·²æäº¤çš„æ•°æ®</p></li><li><p>å¯é‡å¤åº¦ <code>Repateble Read</code></p><p>åŒä¸€ä¸ªäº‹åŠ¡çš„å¤šä¸€ä¸ªå®ä¾‹åœ¨å¹¶å‘æ—¶ï¼Œä¼šè¯»åˆ°ç›¸åŒçš„æ•°æ®</p></li><li><p>ä¸²è¡ŒåŒ– <code>Serializable</code></p><p>ä¸²è¡Œæ‰§è¡Œ</p></li></ul><p><strong>å¹¶å‘äº‹åŠ¡é—®é¢˜:</strong></p>',32),de=e("li",null,"è„è¯»: è¯»å–åˆ°å¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹ï¼Œä½†æœªæäº¤çš„æ•°æ®",-1),le=e("li",null,"ä¸å¯é‡å¤è¯»: ä¸€ä¸ªäº‹åŠ¡ä¸­å¤šæ¬¡è¯»å–åŒä¸€å¼ è®°å½•ä¸ä¸€è‡´",-1),te={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-next-key-locking.html",target:"_blank",rel:"noopener noreferrer"},ie=e("code",null,"select",-1),ne=t('<table><thead><tr><th></th><th style="text-align:center;">è„è¯»</th><th style="text-align:center;">ä¸å¯é‡å¤è¯»</th><th style="text-align:center;">å¹»è¯»</th></tr></thead><tbody><tr><td>è¯»æœªæäº¤</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td></tr><tr><td>è¯»å·²æäº¤</td><td style="text-align:center;">âœ–ï¸</td><td style="text-align:center;">âœ…</td><td style="text-align:center;">âœ…</td></tr><tr><td>å¯é‡å¤è¯»</td><td style="text-align:center;">âœ–ï¸</td><td style="text-align:center;">âœ–ï¸</td><td style="text-align:center;">âœ…</td></tr><tr><td>ä¸²è¡ŒåŒ–</td><td style="text-align:center;">âœ–ï¸</td><td style="text-align:center;">âœ–ï¸</td><td style="text-align:center;">âœ–ï¸</td></tr></tbody></table>',1),re={id:"_13-mvcc-å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶",tabindex:"-1"},ae=e("a",{class:"header-anchor",href:"#_13-mvcc-å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶","aria-hidden":"true"},"#",-1),ce={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-multi-versioning.html",target:"_blank",rel:"noopener noreferrer"},se=t('<p>é€‚ç”¨äº<code>RC</code>ã€<code>RR</code>çš„éš”ç¦»çº§åˆ«ï¼Œé€‚åˆè¯»è¯»ã€è¯»å†™ï¼›å¦‚æœå‘ç”Ÿè¯»å†™å†²çªä»éœ€è¦ç”¨é”</p><p><strong>éšè—å­—æ®µ</strong>:</p><ul><li><code>DB_ROW_ID</code>: é€’å¢çš„id,éå¿…é¡»ï¼Œæ²¡æœ‰ä¸»é”®æ—¶æœ‰<code>row_id</code></li><li><code>DB_TRX_ID</code>: æ“ä½œè¯¥æ•°æ®äº‹åŠ¡çš„äº‹åŠ¡ID</li><li><code>DB_ROLL_PTR</code>: æŒ‡å‘è¯¥å›æ»šæ®µçš„<code>undo log</code></li></ul><p><strong>äº‹åŠ¡ç‰ˆæœ¬å·</strong>: äº‹åŠ¡æ¯æ¬¡å¼€å¯å‰ï¼Œéƒ½ä¼šä»æ•°æ®åº“è·å¾—ä¸€ä¸ªè‡ªå¢çš„äº‹åŠ¡IDï¼Œç”¨æ¥åˆ¤æ–­äº‹åŠ¡æ‰§è¡Œçš„é¡ºåº</p><p><strong>ç‰ˆæœ¬é“¾</strong>: å¤šä¸ªäº‹åŠ¡å¹¶è¡Œæ“ä½œæŸä¸€è¡Œæ•°æ®æ—¶ï¼Œä¸åŒäº‹åŠ¡å¯¹æ”¹è¡Œçš„ä¿®æ”¹äº§ç”Ÿå¤šä¸ªç‰ˆæœ¬ï¼Œé€šè¿‡å›æ»šæŒ‡é’ˆå½¢æˆçš„é“¾è¡¨</p><p><strong>å¿«ç…§è¯»</strong>ï¼šè¯»å–æ•°æ®çš„å¯è§ç‰ˆæœ¬(æœ‰æ—§ç‰ˆæœ¬)ï¼Œä¸åŠ é”ï¼Œæ™®é€šçš„<code>select</code>éƒ½æ˜¯å¿«ç…§è¯»</p><p><strong>å½“å‰è¯»</strong>ï¼šè¯»å–æ•°æ®çš„æœ€æ–°ç‰ˆæœ¬ï¼Œæ˜¾ç¤ºåŠ é”çš„éƒ½æ˜¯å½“å‰è¯»ï¼Œä¾‹å¦‚<code>select * from t where id &gt;1 [for update | lock in share mode]</code></p><p><strong>Read View</strong>ï¼š äº‹åŠ¡æ‰§è¡ŒSQLè¯­å¥æ—¶äº§ç”Ÿçš„è¯»è§†å›¾ï¼Œåœ¨InnoDBä¸­ï¼Œæ¯ä¸ªSQLè¯­å¥æ‰§è¡Œå‰éƒ½ä¼šæœ‰ä¸€ä¸ª<code>ReadView</code>,ç”¨æ¥åšå¯è§æ€§åˆ¤æ–­ï¼ˆåˆ¤æ–­å½“å‰äº‹åŠ¡å¯è§å“ªä¸ªç‰ˆæœ¬çš„æ•°æ®ï¼‰</p><h4 id="_13-1-åŸºäºmvccçš„æŸ¥è¯¢è®°å½•æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_13-1-åŸºäºmvccçš„æŸ¥è¯¢è®°å½•æµç¨‹" aria-hidden="true">#</a> 13.1 åŸºäºMVCCçš„æŸ¥è¯¢è®°å½•æµç¨‹</h4><ol><li>è·å–äº‹åŠ¡id ï¼ˆäº‹åŠ¡è‡ªå·±çš„ç‰ˆæœ¬å·ï¼‰ï¼Œè·å–<code>Read View</code></li><li>æŸ¥è¯¢å¾—åˆ°çš„æ•°æ®ï¼Œå’Œ<code>Read View</code>ä¸­äº‹åŠ¡ç‰ˆæœ¬å·è¿›è¡Œæ¯”è¾ƒ</li><li>å¦‚æœä¸ç¬¦åˆ<code>ReadView</code>å¯è§æ€§è§„åˆ™åˆ™ä»<code>Undo Log</code>ä¸­æŸ¥è¯¢å†å²å¿«ç…§</li><li>è¿”å›ç¬¦åˆè§„åˆ™çš„æ•°æ®</li></ol><h4 id="_13-2-mvccè§£å†³ä¸å¯é‡å¤è¯»" tabindex="-1"><a class="header-anchor" href="#_13-2-mvccè§£å†³ä¸å¯é‡å¤è¯»" aria-hidden="true">#</a> 13.2 MVCCè§£å†³ä¸å¯é‡å¤è¯»</h4><ul><li>åœ¨<code>RC</code>ï¼ŒåŒäº‹åŠ¡æ¯æ¬¡æŸ¥è¯¢äº§ç”Ÿä¸€ä¸ªæ–°çš„<code>Read View</code>å‰¯æœ¬ï¼Œäº§ç”Ÿä¸å¯é‡å¤è¯»</li><li>åœ¨<code>RR</code>,ä¸€ä¸ªäº‹åŠ¡é‡Œåªè·å–ä¸€æ¬¡<code>Read View</code>ï¼Œå‰¯æœ¬å…±ç”¨ï¼Œä¿è¯å¯é‡å¤è¯»</li></ul><h4 id="_13-3-mvccæ˜¯å¦å½»åº•è§£å†³äº†å¹»è¯»" tabindex="-1"><a class="header-anchor" href="#_13-3-mvccæ˜¯å¦å½»åº•è§£å†³äº†å¹»è¯»" aria-hidden="true">#</a> 13.3 MVCCæ˜¯å¦å½»åº•è§£å†³äº†å¹»è¯»ï¼Ÿ</h4><p>å¦ï¼Œäº‹åŠ¡aå…ˆselect,äº‹åŠ¡b insert,åŠ gaplockï¼Œcommitågaplocké‡Šæ”¾ï¼Œaå†selectå’Œç¬¬ä¸€æ¬¡ä¸€æ ·ï¼Œä¸åŠ æ¡ä»¶çš„updateä¼šä½œç”¨åˆ°æ‰€æœ‰è¡Œï¼Œaå†selectå›å‡ºç°bçš„æ–°è¡Œï¼Œä¸”è¢«aä¿®æ”¹</p><h3 id="_14-mysqlä¸­æœ‰å“ªäº›é”" tabindex="-1"><a class="header-anchor" href="#_14-mysqlä¸­æœ‰å“ªäº›é”" aria-hidden="true">#</a> 14. MySQLä¸­æœ‰å“ªäº›é”ğŸ”’</h3>',15),he={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html",target:"_blank",rel:"noopener noreferrer"},pe=t('<blockquote><p>é”æ˜¯åŠ åœ¨ç´¢å¼•è®°å½•ä¸Šçš„</p></blockquote><h4 id="_14-1-åŠ é”èŒƒå›´" tabindex="-1"><a class="header-anchor" href="#_14-1-åŠ é”èŒƒå›´" aria-hidden="true">#</a> 14.1 åŠ é”èŒƒå›´</h4><ol><li><p><strong>å…¨å±€é”</strong></p><p>å…¨åº“çš„é€»è¾‘å¤‡ä»½</p></li><li><p><strong>è¡¨çº§é”</strong></p><ul><li>è¡¨é”: <code>lock tables ... read / write</code></li><li>MDL: è®¿é—®è¡¨æ—¶è‡ªåŠ¨åŠ é”</li></ul></li><li><p><strong>è¡Œé”</strong>(<code>Row Lock</code>)</p><ul><li><code>Record Lock</code>: è®°å½•é”ï¼Œé”å®šå•ä¸ªè®°å½•çš„é”</li><li><code>Gap Lock</code>ï¼šé—´éš™é”ï¼Œé”å®šç´¢å¼•è®°å½•çš„é—´éš™(é˜²å¹»è¯»)ï¼Œ<code>(a,b)</code></li><li><code>Next-Key Lock</code>ï¼šä¸´é”®é” <code>(a,b]</code></li></ul></li></ol><p><strong>å¦‚ä½•åŠ é”ï¼Ÿ</strong></p>',4),_e={href:"https://blog.csdn.net/m0_67261762/article/details/125522033",target:"_blank",rel:"noopener noreferrer"},ue=t('<ul><li><p><code>update ... where id = 1</code></p><ul><li>å¦‚æœä¸å­˜åœ¨id = 1çš„æ•°æ®ï¼Œåˆ™åŠ é”èŒƒå›´:<code>(1,10]</code></li><li>å¦‚æœå­˜åœ¨id = 1 çš„æ•°æ®ï¼Œåˆ™<code>Next-Key Lock</code>é€€åŒ–ä¸º<code>Record Lock</code>ï¼Œå³<code>[1]</code></li></ul></li><li><p><code>update ... where id &gt; 1 and id &lt;10</code> , åŠ é—´éš™é”</p></li><li><p><code>update ... where id &gt;1 and id &lt;= 10</code>,åŠ ä¸´é”®é”</p></li></ul><p>å‡è®¾è¡¨tä¸­å·²æœ‰æ•°æ®å¦‚ä¸‹ï¼Œè¦æ‰§è¡Œ<code>update ... where age = 5</code></p><table><thead><tr><th>id</th><th>Name</th><th>Age</th></tr></thead><tbody><tr><td>1</td><td>a</td><td>1</td></tr><tr><td>10</td><td>b</td><td>10</td></tr></tbody></table><ul><li>å¦‚æœageæ˜¯ç´¢å¼•ï¼Œå°†äº§ç”Ÿ3ä¸ªç´¢å¼•èŒƒå›´<code>(-âˆ,1]</code>ï¼Œ<code>(1,10]</code>ï¼Œ<code>(10,+âˆ)</code><ul><li>ç”±äº<code>age=5</code>çš„è®°å½•ä¸å­˜åœ¨ï¼Œä¸”åœ¨<code>(1,10]</code>åŒºé—´å†…ï¼Œåˆ™å¯¹<code>(1,10]</code>çš„èŒƒå›´åŠ é”</li><li>å¦‚æœ<code>age=5</code>çš„è®°å½•å·²å­˜åœ¨ï¼Œå…ˆå¯¹<code>(1,5]</code>åŠ é”ï¼Œå†å‘å³éå†åˆ°ä¸æ»¡è¶³æ¡ä»¶ä½ç½®<code>(5,10]</code>,ç»¼åˆå°±æ˜¯<code>(1,10]</code></li></ul></li></ul><h4 id="_14-2-ä¹è§‚é”å’Œæ‚²è§‚é”" tabindex="-1"><a class="header-anchor" href="#_14-2-ä¹è§‚é”å’Œæ‚²è§‚é”" aria-hidden="true">#</a> 14.2 ä¹è§‚é”å’Œæ‚²è§‚é”</h4><ul><li><p>ä¹è§‚é”: å¯¹æ•°æ®è®°å½•çš„ç‰ˆæœ¬è¿›è¡Œå¯¹æ¯”ï¼Œæ›´æ–°æäº¤æ—¶è¿›è¡Œå†²çªæ£€æµ‹ï¼Œä½¿ç”¨ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³</p><p><code>updte t set c = c+1 where version = 2;</code></p></li><li><p>æ‚²è§‚é”: ä¿®æ”¹å‰è¿›è¡Œé”å®šï¼ŒS/Xéƒ½å±äºæ‚²è§‚é”</p></li></ul><h4 id="_14-3-æ“ä½œç±»å‹" tabindex="-1"><a class="header-anchor" href="#_14-3-æ“ä½œç±»å‹" aria-hidden="true">#</a> 14.3 æ“ä½œç±»å‹</h4><ul><li>IS: æ„å‘è¯»é”ï¼Œäº‹åŠ¡æ‰“ç®—åœ¨è¡¨ä¸­çš„å•ä¸ªè¡Œä¸Šè®¾ç½®å…±äº«é”ï¼Œ<code>select ... for share</code></li><li>IX: æ„å‘å†™é”ï¼Œè¡¨çº§é”ï¼Œäº‹åŠ¡æ‰“ç®—åœ¨è¡¨ä¸­çš„å•ä¸ªè¡Œä¸Šè®¾ç½®ç‹¬å é”ï¼Œ <code>select ... for update</code></li><li>S: è¯»é”ï¼Œè¡Œçº§é”ï¼Œå…è®¸æŒæœ‰é”çš„äº‹åŠ¡è¿›è¡Œè¯»</li><li>X: å†™é”ï¼Œè¡Œçº§é”ï¼Œå…è®¸æŒæœ‰é”çš„äº‹åŠ¡è¿›è¡Œæ›´æ–°ã€åˆ é™¤è¡Œ</li></ul>',8),ge={id:"_15-æ­»é”",tabindex:"-1"},fe=e("a",{class:"header-anchor",href:"#_15-æ­»é”","aria-hidden":"true"},"#",-1),me={href:"https://dev.mysql.com/doc/refman/8.0/en/innodb-deadlocks.html",target:"_blank",rel:"noopener noreferrer"},be=t('<p>æŸ¥çœ‹æ­»é”æ—¥å¿—: <code>show engine innodb status \\G</code></p><p>æŸ¥çœ‹é”çŠ¶æ€å˜é‡: <code>show status like &#39;innodb_row_lock%&#39; \\G</code></p><h3 id="_16-mysqlé›†ç¾¤æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_16-mysqlé›†ç¾¤æ¶æ„" aria-hidden="true">#</a> 16. MySQLé›†ç¾¤æ¶æ„</h3><h4 id="_16-1-ä¸»ä»æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_16-1-ä¸»ä»æ¨¡å¼" aria-hidden="true">#</a> 16.1 ä¸»ä»æ¨¡å¼</h4><p>æ•°æ®å¯ä»¥ä»ä¸€ä¸ªMySQLæœåŠ¡å™¨ä¸»èŠ‚ç‚¹å¤åˆ¶åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªä»èŠ‚ç‚¹</p><p>å¿…è¦æ¡ä»¶: 1.ä»åº“è¿é€šä¸»åº“ï¼Œ2.ä¸»ä»<code>server_id</code>ä¸åŒï¼Œ3.ä¸»åº“å¼€å¯<code>binlog</code></p><p>å®ç°åŸç†:</p><ol><li>ä¸»åº“å°†æ•°æ®çš„å˜æ›´æ“ä½œè®°å½•åˆ°<code>binlog</code>,<code>BinlogDump Thread</code>æ¥åˆ°å†™å…¥è¯·æ±‚åï¼Œè¯»å–<code>binlog</code>ä¿¡æ¯æ¨é€ç»™ä»åº“çš„<code>IO Thread</code></li><li>ä»åº“çš„<code>IO Thread</code>è¯»å–ä¸»åº“çš„<code>binlog</code>,å¹¶å†™å…¥åˆ°ä»åº“çš„<code>Relay Log</code></li><li>ä»åº“çš„<code>SQL Thread</code>æ£€æµ‹åˆ°<code>Relay Log</code>çš„å˜æ›´è¯·æ±‚ï¼Œè§£æ<code>Relay Log</code>çš„å†…å®¹åœ¨ä»åº“ä¸­æ‰§è¡Œ</li></ol><p>ç”±äºä¸Šè¿°éƒ½æ˜¯å¼‚æ­¥æ“ä½œï¼Œä¸€èˆ¬æˆä¸º<strong>å¼‚æ­¥å¤åˆ¶</strong></p><p>å¼‚æ­¥ä¸»ä»å¤åˆ¶å­˜åœ¨çš„é—®é¢˜å’Œè§£å†³:</p>',10),ye={href:"https://dev.mysql.com/doc/refman/8.0/en/replication-semisync.html",target:"_blank",rel:"noopener noreferrer"},xe=e("li",null,[e("p",null,[o("ä»åº“åªæœ‰ä¸€ä¸ª"),e("code",null,"SQL Thread"),o(",ä¸»åº“å‹åŠ›å¤§æ—¶ä»åº“å¤åˆ¶å»¶è¿Ÿ => "),e("strong",null,"å¹¶è¡Œå¤åˆ¶"),o(": å¯¹"),e("code",null,"SQL Thread"),o("é‡‡ç”¨å¤šçº¿ç¨‹")])],-1),Le=t("<blockquote><p>ä½¿ç”¨è¯»å†™åˆ†ç¦»æ¶æ„éœ€è¦æ³¨æ„ä¸»ä»åŒæ­¥å»¶è¿Ÿå’Œè¯»å†™è·¯ç”±åˆ†é…æœºåˆ¶çš„é—®é¢˜</p></blockquote><p><strong>ä¸»ä»åŒæ­¥å»¶è¿Ÿ</strong>:</p><ul><li><p>å†™åç«‹åˆ»è¯»ï¼š åœ¨å†™å…¥æ•°æ®åº“åçš„ä¸€æ®µæ—¶é—´å†…åœ¨ä¸»åº“è¯»</p></li><li><p>äºŒæ¬¡æŸ¥è¯¢: å…ˆä»ä»åº“è¯»ï¼Œè¯»ä¸åˆ°è¯»ä¸»åº“</p></li><li><p>æ ¹æ®ä¸šåŠ¡å¤„ç†</p><p>å®æ—¶æ€§é«˜çš„è¯»ä¸»åº“ï¼Œä¸é«˜çš„è¯»ä»åº“</p></li></ul><p><strong>è¯»å†™è·¯ç”±åˆ†é…æœºåˆ¶</strong>:</p>",4),ve=e("li",null,"åŸºäºç¼–ç¨‹å’Œé…ç½®å®ç°",-1),qe={href:"https://dev.mysql.com/doc/mysql-router/8.0/en/",target:"_blank",rel:"noopener noreferrer"},Se={href:"http://www.mycat.org.cn",target:"_blank",rel:"noopener noreferrer"},ke={href:"https://shardingsphere.apache.org",target:"_blank",rel:"noopener noreferrer"},Re=e("h4",{id:"_16-2-åŒä¸»æ¨¡å¼",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_16-2-åŒä¸»æ¨¡å¼","aria-hidden":"true"},"#"),o(" 16.2 åŒä¸»æ¨¡å¼")],-1),Ne=e("blockquote",null,[e("p",null,"é¿å…ä¸»ä»çš„å•ç‚¹æ•…éšœï¼›ä¸¤å°æœåŠ¡å™¨äº’ä¸ºä¸»ä»ï¼ŒåŒæ–¹å¤åˆ¶"),e("p",null,"é¿å…IDå†²çªæ›´æ–°ä¸¢å¤±ï¼šåŒä¸»å•å†™")],-1),Ie={href:"https://code.google.com/archive/p/mysql-master-ha/",target:"_blank",rel:"noopener noreferrer"},Me=t('<h3 id="_17-å…³äºåˆ†åº“åˆ†è¡¨" tabindex="-1"><a class="header-anchor" href="#_17-å…³äºåˆ†åº“åˆ†è¡¨" aria-hidden="true">#</a> 17. å…³äºåˆ†åº“åˆ†è¡¨</h3><h4 id="_17-1-æ‹†åˆ†æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_17-1-æ‹†åˆ†æ–¹å¼" aria-hidden="true">#</a> 17.1 æ‹†åˆ†æ–¹å¼</h4><ul><li><p>çºµå‘æ‹†åˆ†</p><p>åˆ†åº“åˆ†è¡¨: è§£å†³è¡¨è¿‡å¤šï¼Œè¡¨å­—æ®µè¿‡åº¦çš„é—®é¢˜</p><ul><li>ä¼˜ç‚¹ï¼š ä¸šåŠ¡æ¸…æ™°ï¼Œè§„åˆ™æ˜ç¡®ï¼Œæ˜“ç»´æŠ¤å’Œæ‰©å±•ï¼Œä¾¿äºå†·çƒ­åˆ†ç¦»</li><li>ç¼ºç‚¹: ä¸»é”®è£èª‰ï¼Œå¼•èµ·<code>join</code>çš„å¤æ‚åº¦ï¼Œäº‹åŠ¡å¤„ç†å¤æ‚ï¼Œå­˜åœ¨å•è¡¨è¿‡å¤§</li></ul></li><li><p>æ¨ªå‘æ‹†åˆ†</p><p>è§£å†³è¡¨ä¸­è®°å½•è¿‡å¤š</p><p>æ‹†åˆ†è§„åˆ™: <code>Range</code>,<code>Hash</code></p><ul><li>ä¼˜ç‚¹: ä¸å­˜åœ¨å•åº“å¤§æ•°æ®é«˜å¹¶å‘æ€§èƒ½ç“¶é¢ˆï¼Œæé«˜ç¨³å®šå’Œè´Ÿè½½</li><li>ç¼ºç‚¹: è·¨åº“<code>join</code>æ€§èƒ½å·®ï¼Œåˆ†ç‰‡äº‹åŠ¡ä¸€è‡´æ€§ï¼Œæ•°æ®æ‰©å®¹éš¾åº¦å’Œç»´æŠ¤é‡å¤§</li></ul></li></ul><h4 id="_17-2-ä¸»é”®ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_17-2-ä¸»é”®ç­–ç•¥" aria-hidden="true">#</a> 17.2 ä¸»é”®ç­–ç•¥</h4>',4),Oe=e("li",null,"UUID",-1),Ee=e("li",null,"æ•°æ®åº“ID",-1),we=e("li",null,"Redisç”ŸæˆID",-1),Be={href:"https://github.com/twitter-archive/snowflake",target:"_blank",rel:"noopener noreferrer"},Ce=t('<h4 id="_17-3-åˆ†ç‰‡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_17-3-åˆ†ç‰‡ç­–ç•¥" aria-hidden="true">#</a> 17.3 åˆ†ç‰‡ç­–ç•¥</h4><ul><li>åŸºäºèŒƒå›´(<code>Range</code>): ä¼˜ç‚¹-æ‰©å®¹æ— éœ€è¿ç§»ï¼Œç¼ºç‚¹-å†·çƒ­ä¸å‡</li><li>å“ˆå¸Œå–æ¨¡(<code>Hash</code>): ä¼˜ç‚¹-åˆ†é…å‡åŒ€ï¼Œç¼ºç‚¹-æ‰©å®¹æ—¶å¤§é‡è¿ç§»</li><li>ä¸€è‡´æ€§å“ˆå¸Œï¼ˆå“ˆå¸Œç¯ï¼‰</li></ul><h4 id="_17-4-æ‰©å±•æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_17-4-æ‰©å±•æ–¹æ¡ˆ" aria-hidden="true">#</a> 17.4 æ‰©å±•æ–¹æ¡ˆ</h4><ul><li>æ¨ªå‘: ä¸€ä¸ªåº“å˜å¤šä¸ªåº“-åŠ æœºå™¨</li><li>çºµå‘: ä¼˜åŒ–æœºå™¨æ€§èƒ½</li></ul><h4 id="_17-5-æ‰©å®¹æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_17-5-æ‰©å®¹æ–¹æ¡ˆ" aria-hidden="true">#</a> 17.5 æ‰©å®¹æ–¹æ¡ˆ</h4><ul><li><p>åœæœº</p></li><li><p>å¹³æ»‘æ‰©å®¹</p><p>æ–°å¢ä¸¤ä¸ªåº“é…ç½®åŒä¸»åŒæ­¥ï¼Œé…ç½®åŒä¸»åŒå†™ï¼Œæ¸…ç†å¤šä½™æ•°æ®</p></li></ul>',6);function Ae(Te,De){const d=a("ExternalLinkIcon");return n(),r("div",null,[s,e("h4",h,[p,o(" 5.1 "),e("a",_,[o("å†…å­˜æ¶æ„"),l(d)])]),e("ol",null,[e("li",null,[e("p",null,[e("a",u,[o("Buffer Pool"),l(d)])]),g]),e("li",null,[e("p",null,[e("a",f,[o("Change Buffer"),l(d)])]),m]),e("li",null,[e("p",null,[e("a",b,[o("Adaptive Hash"),l(d)])]),y]),e("li",null,[e("p",null,[e("a",x,[o("Log Buffer"),l(d)])]),L])]),e("h4",v,[q,o(" 5.2 "),e("a",S,[o("ç£ç›˜æ¶æ„"),l(d)])]),k,R,e("h4",N,[I,o(" 6.1 "),e("a",M,[o("Binary Log"),l(d)])]),O,e("p",null,[e("strong",null,[e("a",E,[o("è®°å½•æ ¼å¼"),l(d)]),o(":")])]),w,e("h4",B,[C,o(" 6.2 "),e("a",A,[o("Redo Log"),l(d)])]),T,e("h4",D,[U,o(" 6.3 "),e("a",Q,[o("Undo Logs"),l(d)])]),P,e("h4",V,[F,o(" 6.4 "),e("a",Y,[o("Slow Query Log"),l(d)])]),e("p",null,[o("æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè¶…è¿‡ "),e("a",H,[o("long_query_time"),l(d)]),o(" ç§’çš„æ—¥å¿—ä¼šè®°å½•ï¼Œéœ€è¦ä¸»åŠ¨å¼€å¯ï¼Œå¯ä»¥é€šè¿‡ "),e("a",z,[o("mysqldumpslow"),l(d)]),o(" å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹(ä¹Ÿå¯ä»¥ç›´æ¥æŸ¥çœ‹,ä¾‹å¦‚"),G,o(")ï¼Œæ—¥å¿—ä¸­ä¸»è¦åŒ…æ‹¬çš„å±æ€§: å…·ä½“çš„è¯­å¥ï¼Œè®°å½•çš„æ—¶é—´ï¼Œæ‰§è¡Œçš„æ—¶é—´ç­‰")]),W,e("h4",X,[j,o(" 8.3 "),e("a",K,[o("ç´¢å¼•ä¸‹æ¨"),l(d)])]),Z,e("h4",$,[J,o(" 1. å‚è€ƒå®˜æ–¹æ–‡æ¡£: "),e("a",ee,[o("Optimizaition"),l(d)])]),oe,e("ul",null,[de,le,e("li",null,[e("a",te,[o("å¹»è¯»(å¹»è¡Œ"),l(d)]),o("): åœ¨åŒä¸€æŸ¥è¯¢åœ¨ä¸åŒæ—¶é—´äº§ç”Ÿä¸åŒçš„è¡Œï¼Œä¾‹å¦‚"),ie,o("æ‰§è¡Œä¸¤æ¬¡ï¼Œä½†ç¬¬äºŒæ¬¡è¿”å›äº†ç¬¬ä¸€æ¬¡æ²¡æœ‰è¿”å›çš„è¡Œ")])]),ne,e("h3",re,[ae,o(" 13. "),e("a",ce,[o("MVCC"),l(d)]),o(" - å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶")]),se,e("blockquote",null,[e("p",null,[o("ğŸ¦ˆ "),e("a",he,[o("InnoDB Locking"),l(d)]),o(" ä¸­ä»‹ç»æœ‰å…±äº«é”é”ã€ç‹¬å é”ã€æ„å‘é”ï¼Œæ’å…¥æ„å‘é”ï¼Œè®°å½•é”ï¼Œé—´éš™é”ï¼Œä¸´é”®é”ï¼Œè‡ªå¢é”ï¼Œç©ºé—´ç´¢å¼•é”")])]),pe,e("blockquote",null,[e("p",null,[o("æ¥æº: "),e("a",_e,[o("https://blog.csdn.net/m0_67261762/article/details/125522033"),l(d)]),o(" ä¾µåˆ ")])]),ue,e("h3",ge,[fe,o(" 15. "),e("a",me,[o("æ­»é”"),l(d)])]),be,e("ul",null,[e("li",null,[e("p",null,[o("ä¸»åº“å®•æœºåï¼Œæ•°æ®å¯èƒ½ä¸¢å¤± => "),e("strong",null,[e("a",ye,[o("åŠåŒæ­¥å¤åˆ¶"),l(d)])]),o(": è®©ä¸»åº“åœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹ç­‰å¾…ï¼Œç­‰åˆ°ä»åº“çš„ackï¼Œæ”¶åˆ°åæ‰æäº¤")])]),xe]),Le,e("ul",null,[ve,e("li",null,[o("åŸºäºæœåŠ¡å™¨ç«¯ä»£ç†ä¸­é—´ä»¶çš„å®ç° "),e("ul",null,[e("li",null,[e("a",qe,[o("MySQL Router"),l(d)])]),e("li",null,[e("a",Se,[o("MyCat2"),l(d)])]),e("li",null,[e("a",ke,[o("ShardingSphere"),l(d)])])])])]),Re,Ne,e("p",null,[e("a",Ie,[o("MHA"),l(d)])]),Me,e("ul",null,[Oe,Ee,we,e("li",null,[e("a",Be,[o("Snowflake"),l(d)]),o("ï¼š41bitæ¯«ç§’æ•°ï¼Œ10bitæœºå™¨idï¼Œ12bitæµæ°´å·ï¼Œ0")])]),Ce])}const Qe=i(c,[["render",Ae],["__file","mysql.html.vue"]]);export{Qe as default};
